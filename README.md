# База зананий ПМ-ПУ
## Структура api

### GET запросы

#### `/api/user/`
>Возвращает информацию о текущем пользователе

Принимаемые параметры:

**нет**

*Вывод*:
|        Параметр      |   Тип    | Описание                                                   |
|         :---:        |   :---:  |                      :---                                  |
| **is_authenticated** |  *bool*  | Авторизированный ли пользователь                           |
|       **email***     |  *email* | E-mail Пользователя (не обязательный)                      |
|     **first_name***  | *string* | Имя пользователя (не обязательный)                         |
|      **last_name***  | *string* | Фамилия пользователя (не обязательный)                     |
|      **is_admin***   |  *bool*  | Является ли пользователь администратором (не обязательный) |


#### `/api/programmes/`
>Возвращает весь список программ, отсортированных по уровню обучения

Принимаемые параметры 

|  Параметр   |   Тип    |                    Описание                   |
|    :---:    |   :---:  |                      :---                     |
|  **fields** | *string* | Дополнительные поля для отображения `img_url` |

*Вывод*:
Объект с полями `bachelor` и `master`, содржащие объект программы.

#### `/api/subjects/`
> Список предметов, обучаемых на данной программе, отсортированных по семестрам

Принимаемые параметры

|  Параметр    |    Тип   |  Описание                                                      |
|    :---:     |   :---:  | :---                                                           |
|  **fields**  | *string* | Дополнительные поля для отображения `lecturers,term,programme` |
|     **id**   |   *id*   | Предмет с текущим id                                           |
| **lecturer** |   *id*   | Предметы, преподаваемые конкретным лектором                    |
|   **term**   |   *int*  | Предметы на конкретном семестре                                |
|**programme** |   *id*   | Предметы на конкретной программе                               |

*Вывод*: Список предметов

*Если задно поле `term`, предменты в одном семестре будут сгруппированны в один объект*

#### `/api/lecturers/`
> Список лекторов

Принимаемые параметры
                
|           Параметр          |   Тип    |  Описание                                                                |
|             :---:           |  :---:   |  :---                                                                    |
|          **fields**         | *string* | Дополнительные поля для отображения `subjects,materials,apmath,photo,vk` |
|            **id**           |   *id*   | Лектор с текущим id                                                      |
|           **name**          | *string* | Лекторы, содержащие в имени строку                                       |
|          **subject**        |   *id*   | Лекторы, преподающие данный предмет                                      |
| **id_subject_for_material** |   *id*   | Id предмета, по которому нужно получить материалы                        |

*При указании `fields=materials` материалы будут сформированны в объекты по предметам*

### POST/PUT запросы

**Эти запросы используются для создвния/редактированя соответвующего объекта**

#### `/api/lecturers/`

> Создание лекора

|      Параметр      |      Тип      | Описание                                      |
|        :---:       |     :---:     |  :---                                         |
|      **name**      |    *string*   | Фамилия И. О. лектора                         |
|     **subjects**   | *Array\<id\>* | Массив предметов, преподаваемых этим лектором |
|      **photo**     |     *link*    | Ссылка на фотографию                          |
|   **apmath_url**   |     *link*    | Ссылка на страничку на сайте факультета       |
| **vk_discuss_url** |     *link*    | Ссылка на обсуждение и отзывы об лекторе      |

#### `/api/material/`
>Создание материала

|    Параметр  |    Тип   | Описание                                                                                                                   |
|     :---:    |   :---:  |  :---                                                                                                                      |
|   **name**   | *string* | Название материала                                                                                                         |
|  **subject** |   *id*   | Предмет, к которому принадлежит материал                                                                                   |
|   **type**   | *choose* | Тип материала. Может быть `abstract` - конспект, `questions` - вопросы к экзамену/зачёту,\`test` - тесты `other` - разное  |
| **lecturer** |   *id*   | Лектор, кому принадлежат эти материалы                                                                                     |
|   **link**   |  *link*  | Ссылка на скачивание материала                                                                                             |


Во всех случаях пр успешном создании объекта будет возвращено `{"status": "ok"'}`. 
Иначе `{"status": "error", "error": "description"}`